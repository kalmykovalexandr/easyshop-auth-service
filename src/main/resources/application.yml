# =============================================================================
# EasyShop Auth Service Bootstrap Configuration
# =============================================================================
# This file points the service to the external Config Server.

spring:
  application:
    name: auth-service
  config:
    import: optional:configserver:${CONFIG_SERVER_URI}
  cloud:
    config:
      username: ${CONFIG_SERVER_USER}
      password: ${CONFIG_SERVER_PASSWORD}
      fail-fast: false
      retry:
        initial-interval: 1000
        max-attempts: 6
        max-interval: 2000
        multiplier: 1.1
  profiles:
    active: ${SPRING_PROFILES_ACTIVE}
  mail:
    host: ${MAIL_HOST:localhost}
    port: ${MAIL_PORT:587}
    username: ${MAIL_USERNAME:}
    password: ${MAIL_PASSWORD:}
    properties:
      mail:
        smtp:
          auth: ${MAIL_SMTP_AUTH:true}
          starttls:
            enable: ${MAIL_SMTP_STARTTLS:true}
          connectiontimeout: ${MAIL_CONNECTION_TIMEOUT:5000}
          timeout: ${MAIL_TIMEOUT:5000}
          writetimeout: ${MAIL_WRITE_TIMEOUT:5000}

# EasyShop specific configuration
easyshop:
  mail:
    from-email: ${EASYSHOP_MAIL_FROM:}
    from-name: ${EASYSHOP_MAIL_FROM_NAME:EasyShop}
  auth:
    verification-base-url: ${EASYSHOP_VERIFICATION_URL:http://localhost:9001/api/auth/verify}
    verification-ttl-hours: ${EASYSHOP_VERIFICATION_TTL:24}
    verification-resend-cooldown-seconds: ${EASYSHOP_VERIFICATION_COOLDOWN:60}
